; Download the Isabelle and build the TLA+ theory with it.
; The source code for the TLA+ theory is in the $PROJECT_ROOT/isabelle directory.
; The generated heaps (Pure and TLA+) are in Isabelle/heaps/polyml-*/.
(rule
 (deps "Makefile" (source_tree theories))
 (targets (dir Isabelle) "Isabelle.no-links" "Isabelle.exec-files")
 (action (run "make" "-C" "." "PROJECT_ROOT=%{project_root}" "Isabelle.no-links" "Isabelle.exec-files")))

(install
 (section (site (tlapm backends)))
 (dirs Isabelle))

(install
 (section (site (tlapm backends)))
 (files ("Isabelle.exec-files" as "Isabelle.exec-files")))
